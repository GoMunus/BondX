# BondX Backend Configuration
# Copy this file to .env and update with your actual values

# Application Settings
APP_NAME=BondX Backend
APP_VERSION=0.1.0
DEBUG=true
LOG_LEVEL=INFO
ENVIRONMENT=development

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=true

# Database Configuration
DATABASE_URL=postgresql+asyncpg://bondx_user:bondx_password@localhost:5432/bondx_db
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Redis Configuration
REDIS_URL=redis://localhost:6379/0
REDIS_POOL_SIZE=20
REDIS_MAX_CONNECTIONS=50

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=Asia/Kolkata
CELERY_ENABLE_UTC=true

# Security Configuration
SECRET_KEY=your-super-secret-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# API Keys for External Data Sources
NSE_API_KEY=your_nse_api_key
BSE_API_KEY=your_bse_api_key
RBI_API_KEY=your_rbi_api_key
CRISIL_API_KEY=your_crisil_api_key
ICRA_API_KEY=your_icra_api_key
CARE_API_KEY=your_care_api_key
BLOOMBERG_API_KEY=your_bloomberg_api_key

# Market Data Configuration
MARKET_DATA_UPDATE_INTERVAL=300  # 5 minutes
MARKET_DATA_RETENTION_DAYS=365
MARKET_DATA_BATCH_SIZE=1000

# Cache Configuration
CACHE_TTL=300  # 5 minutes
CACHE_MAX_SIZE=10000
CACHE_STALE_WHILE_REVALIDATE=60

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60  # seconds
RATE_LIMIT_BURST=200

# Logging Configuration
LOG_FORMAT=json
LOG_FILE_PATH=logs/bondx.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# Monitoring Configuration
PROMETHEUS_ENABLED=true
SENTRY_DSN=your_sentry_dsn
HEALTH_CHECK_INTERVAL=30

# Indian Market Specific Settings
MARKET_TIMEZONE=Asia/Kolkata
MARKET_HOLIDAYS_FILE=data/market_holidays.json
SETTLEMENT_CYCLES_FILE=data/settlement_cycles.json

# Data Quality Configuration
DATA_VALIDATION_ENABLED=true
OUTLIER_DETECTION_THRESHOLD=3.0
DATA_FRESHNESS_THRESHOLD=3600  # 1 hour

# Regulatory Compliance
AUDIT_LOG_ENABLED=true
DATA_RETENTION_DAYS=2555  # 7 years for regulatory compliance
ENCRYPTION_ENABLED=true

# Performance Configuration
QUERY_TIMEOUT=30
MAX_CONCURRENT_QUERIES=100
BATCH_PROCESSING_SIZE=5000

# WebSocket Configuration
WEBSOCKET_MAX_CONNECTIONS=1000
WEBSOCKET_PING_INTERVAL=30
WEBSOCKET_PING_TIMEOUT=10

# Background Task Configuration
MAX_BACKGROUND_TASKS=50
TASK_TIMEOUT=300
RETRY_ATTEMPTS=3
RETRY_DELAY=60

# File Upload Configuration
MAX_FILE_SIZE=10MB
ALLOWED_FILE_TYPES=.csv,.xlsx,.json,.xml
UPLOAD_DIR=uploads/

# Email Configuration (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_TLS=true

# External Service URLs
NSE_BASE_URL=https://www.nseindia.com
BSE_BASE_URL=https://www.bseindia.com
RBI_BASE_URL=https://www.rbi.org.in
CRISIL_BASE_URL=https://www.crisil.com
ICRA_BASE_URL=https://www.icra.in
CARE_BASE_URL=https://www.careratings.com

# Development Settings
AUTO_RELOAD=true
DEBUG_TOOLBAR_ENABLED=false
PROFILING_ENABLED=false
